"use strict";var Le=Object.create;var x=Object.defineProperty;var $e=Object.getOwnPropertyDescriptor;var He=Object.getOwnPropertyNames;var Oe=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty;var De=(t,e,r)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var a=(t,e)=>x(t,"name",{value:e,configurable:!0});var ke=(t,e)=>()=>(t&&(e=t(t=0)),e);var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),W=(t,e)=>{for(var r in e)x(t,r,{get:e[r],enumerable:!0})},B=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of He(e))!je.call(t,s)&&s!==r&&x(t,s,{get:()=>e[s],enumerable:!(n=$e(e,s))||n.enumerable});return t};var M=(t,e,r)=>(r=t!=null?Le(Oe(t)):{},B(e||!t||!t.__esModule?x(r,"default",{value:t,enumerable:!0}):r,t)),G=t=>B(x({},"__esModule",{value:!0}),t);var u=(t,e,r)=>(De(t,typeof e!="symbol"?e+"":e,r),r);var V=S((or,qe)=>{qe.exports={name:"dotenv",version:"16.0.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{require:"./lib/main.js",types:"./lib/main.d.ts",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^17.0.9",decache:"^4.6.1",dtslint:"^3.7.0",sinon:"^12.0.1",standard:"^16.0.4","standard-markdown":"^7.1.0","standard-version":"^9.3.2",tap:"^15.1.6",tar:"^6.1.11",typescript:"^4.5.4"},engines:{node:">=12"}}});var Q=S((ir,R)=>{var Pe=require("fs"),J=require("path"),Fe=require("os"),ze=V(),Ue=ze.version,We=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function Be(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=We.exec(r))!=null;){let s=n[1],o=n[2]||"";o=o.trim();let i=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),i==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),e[s]=o}return e}a(Be,"parse");function H(t){console.log(`[dotenv@${Ue}][DEBUG] ${t}`)}a(H,"_log");function Ge(t){return t[0]==="~"?J.join(Fe.homedir(),t.slice(1)):t}a(Ge,"_resolveHome");function Ve(t){let e=J.resolve(process.cwd(),".env"),r="utf8",n=!!(t&&t.debug),s=!!(t&&t.override);t&&(t.path!=null&&(e=Ge(t.path)),t.encoding!=null&&(r=t.encoding));try{let o=C.parse(Pe.readFileSync(e,{encoding:r}));return Object.keys(o).forEach(function(i){Object.prototype.hasOwnProperty.call(process.env,i)?(s===!0&&(process.env[i]=o[i]),n&&H(s===!0?`"${i}" is already defined in \`process.env\` and WAS overwritten`:`"${i}" is already defined in \`process.env\` and was NOT overwritten`)):process.env[i]=o[i]}),{parsed:o}}catch(o){return n&&H(`Failed to load ${e} ${o.message}`),{error:o}}}a(Ve,"config");var C={config:Ve,parse:Be};R.exports.config=C.config;R.exports.parse=C.parse;R.exports=C});var Z=S(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var T;(function(t){t[t.STATIC=0]="STATIC",t[t.PARAM=1]="PARAM"})(T||(T={}));var I=":",Je="/",Qe=Je.charCodeAt(0),y=class{constructor(e={}){this.indices=e.indices||"",this.children=e.children||[],this.childrenI=e.childrenI||{},this.path=e.path||"",this.handle=e.handle||null,this.wildChild=e.wildChild||!1,this.type=e.type||T.STATIC,this.param=e.param||"",this.pathLength=this.path.length,this.childrenLength=this.children.length}addRoute(e,r){let n=this.countParams(e);this.isEmpty()?this.insertChild(e,e,r,n):this.onChunk(this,e,e,r,n)}search(e){let r=this,n={};e:for(;;){let s=e.length;if(s>r.pathLength&&e.slice(0,r.pathLength)===r.path){if(e=e.slice(r.pathLength),r.wildChild){r=r.children[0];let i=0;for(;i<s&&e.charCodeAt(i)!==Qe;)i++;let l=e.slice(0,i);if(!l||!r.param)return{value:null,params:n};if(r.param!=="!"&&(n[r.param]=l),i<s){if(r.childrenLength===0)return{value:null,params:n};e=e.slice(i),r=r.children[0];continue e}return{value:r.handle,params:n}}let o=e.charCodeAt(0);for(let i=0;i<r.indices.length;i++)if(o===r.indices.charCodeAt(i)){r=r.children[i];continue e}}else if(e===r.path)return{value:r.handle,params:n};return{value:null,params:n}}}hasChildren(){return this.children.length>0}insertChild(e,r,n,s){let o=0,i=this;for(let l=0,h=r.length;s>0;l++){if(r[l]!==I)continue;let m=l+1;for(;m<h&&r[m]!=="/";){if(r[m]===I)throw new Error("only one wildcard per path segment is allowed, has: '"+r.slice(l)+"' in path '"+e+"'");m++}if(i.hasChildren())throw new Error("wildcard route '"+r.slice(l,m)+"' conflicts with existing children in path '"+e+"'");if(m-l<2)throw new Error("wildcards must be named with a non-empty name in path '"+e+"'");l>0&&(i.replacePath(r.slice(o,l)),o=l),i=i.replaceChildren({type:T.PARAM}),s--,m<h&&(i.replacePath(r.slice(o,m)),o=m,i=i.replaceChildren())}i.replacePath(r.slice(o)),i.setHandle(n)}setHandle(e){this.handle=e}replaceChildren(e={}){let r=new y(e);return e.type===T.PARAM&&(this.wildChild=!0),this.children=[r],this.childrenLength=1,r}replacePath(e){e[0]===I&&(this.param=e.slice(1)),this.path=e,this.pathLength=e.length}isEmpty(){return!(this.path.length>0||this.children.length>0)}processCharacter(e,r,n,s){let o=r[0];if(this.type===T.PARAM&&o==="/"&&this.children.length===1){this.onChunk(this.children[0],e,r,n,s);return}let i=this.childrenI[o.charCodeAt(0)];if(i){i.onChunk(i,e,r,n,s);return}if(o!==I){let l=new y({type:T.STATIC});this.children.push(l),this.indices+=o,this.childrenI[o.charCodeAt(0)]=l,this.childrenLength=this.children.length,l.insertChild(e,r,n,s);return}this.insertChild(e,r,n,s)}processWildcard(e,r,n,s){if(r.length>=this.path.length&&this.path===r.slice(0,this.path.length)&&(this.path.length>=r.length||r[this.path.length]==="/")){this.onChunk(this,e,r,n,s);return}let i=r.split("/")[0],l=e.slice(0,e.indexOf(i))+this.path;throw new Error(`'${i}' in new path '${e}' conflicts with existing wildcard '${this.path}' in existing prefix '${l}'`)}createNode(e,r,n,s,o){let i=n.slice(e);if(this.wildChild){this.children[0].processWildcard(r,i,s,o-1);return}this.processCharacter(r,i,s,o)}commonPrefixIndex(e){let r=0,n=Math.min(e.length,this.path.length);for(;r<n&&this.path[r]===e[r];)r++;return r}split(e,r){if(e<this.path.length){let n=new y({path:this.path.slice(e),wildChild:this.wildChild,childrenI:this.childrenI,children:this.children,handle:this.handle,indices:this.indices});return this.children=[n],this.indices=this.path[e],this.childrenI={[this.indices.charCodeAt(0)]:n},this.childrenLength=1,this.wildChild=!1,this.path=r.slice(0,e),this.pathLength=this.path.length,this.handle=null,!0}return!1}onChunk(e,r,n,s,o){let i=e.commonPrefixIndex(n),l=e.split(i,n);if(i<n.length)e.createNode(i,r,n,s,o);else if(i===n.length){if(!l)throw new Error("Route already defined.");this.handle=s}}countParams(e){let r=0;for(let n=0;n<e.length;n++)e[n]===I&&r++;return r}};a(y,"Node");O.Node=y});var X=S(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});var Ze=Z();function K(t,e){if(!e)throw new Error("Path is required.");if(!t)throw new Error("Bucket is required.");if(typeof t!="string")throw new Error("Bucket should be a string.");if(typeof e!="string")throw new Error("Path should be a string.")}a(K,"typeCheck");var N=class{constructor(){this.buckets={}}addRoute(e,r,n){if(K(e,r),r[0]!=="/"&&r[0]!=="*")throw new Error("The first character of a path should be `/` or `*`.");r=r.replace(/\*([A-z0-9]+)?\//g,":!/").replace(/\*$/g,":!"),this.buckets[e]||(this.buckets[e]=new Ze.Node),this.buckets[e].addRoute(r,n)}findRoute(e,r){if(K(e,r),!this.buckets[e])return null;let n=this.buckets[e].search(r);return n.value===null?null:{value:n.value,params:n.params}}};a(N,"RoadRunner");j.RoadRunner=N});var ee={};W(ee,{default:()=>L});function D(t,e){return t?`\x1B[${t}m${e}\x1B[0m`:e}function _(t,e){for(let r of t.split(","))if(r.length===1)e=D(Ke[r],e);else{let[n,s]=r.split("/"),o=Y.indexOf(n),i=Y.indexOf(s);o>-1&&(e=D(30+o,e)),i>-1&&(e=D(40+i,e))}return e}var Ke,Y,L,k=ke(()=>{"use strict";Ke={b:1,f:2,i:3,u:4,l:5,h:6,n:7,c:8,s:9},Y=["black","red","green","yellow","blue","magenta","cyan","white","crimson"];a(D,"esc");a(_,"stylize");L=_;module.exports=_});var tr={};W(tr,{default:()=>rr});module.exports=G(tr);var Re=M(Q(),1),Ne=M(require("os"),1);var Me=M(require("http"),1);var be=M(X(),1);var Xe=(k(),G(ee));function q(t,...e){let r=[t[0]],n=1;for(let s of e){let o=t[n++];if(o.startsWith("(")){let i=o.indexOf(")"),l=o.substring(1,i),h=Xe(l,s),E=o.substring(i+1);r.push(h,E)}}return r.join("")}a(q,"Concollor");k();function re(t){return(e,...r)=>{if(typeof e=="string")return L(t,e);let n=[e[0]],s=1;for(let o of r){let i=e[s++];n.push(String(o),i)}return L(t,n.join(""))}}a(re,"Tag");var p=re;module.exports=re;var te={titleTag:p("b,i,red/red"),messageTag:p("red/red"),defaultTitle:"Error"},ne={titleTag:p("b,i,yellow/yellow"),messageTag:p("yellow/yellow"),defaultTitle:"Warn"},oe={titleTag:p("b,blue"),messageTag:p("blue"),defaultTitle:"Info"},ie={titleTag:p("b,green"),messageTag:p("green"),defaultTitle:"Success"},se={titleTag:p("b,cyan"),messageTag:p("cyan"),defaultTitle:"Put"},ae={titleTag:p("b,crimson"),messageTag:p("crimson"),defaultTitle:"Patch"},le={titleTag:p("b,magenta"),messageTag:p("magenta"),defaultTitle:"Data"},ce=/(https?:\/\/\S+)/gm;function f(t){let e=String(t);console.log(e.replace(ce,r=>q`${r}(u,blue)`))}a(f,"Log");function v({titleTag:t,messageTag:e,defaultTitle:r}){return function(n,s){console.log(t(`${s??r}: `)+e(`${n}`))}}a(v,"_print");f.error=v(te);f.warn=v(ne);f.info=v(oe);f.success=v(ie);f.put=v(se);f.patch=v(ae);f.data=v(le);var c=f;module.exports=f;function pe(t,e){let r=`The request method: ${t.method} is not supported by the server and cannot be handled`;c.error(r,`Error ${501}`),e.statusCode=501,e.statusMessage=r,e.end()}a(pe,"NotImplementedHandler");var de=pe;module.exports=pe;function he(t,e,r){c.error("Unexpected Server Error",`Error ${500}`),c.error(r.message),e.statusCode=500,e.statusMessage="Internal Server Error",e.end()}a(he,"ServerErrorHandler");var ue=he;module.exports=he;function ge(t,e){let r=`The request ${t.method} ${t.url} is not allowed`;e.statusCode=405,e.statusMessage=r,e.end()}a(ge,"MethodNotAllowedHandler");var me=ge;module.exports=ge;function fe(t,e){let r=`The request ${t.method} ${t.url} is not found`;e.statusCode=404,e.statusMessage=r,e.end()}a(fe,"NotFoundHandler");var ye=fe;module.exports=fe;function F(t){let e=t;for(;e.startsWith("/");)e=e.slice(1);for(;e.endsWith("/");)e=e.slice(0,-1);return"/"+e}a(F,"normalizeSlash");function Te(t,e){let r=t??"",n=e??"";if(r.includes(":"))throw new Error("cant has semicolon");if(n.includes("*"))throw new Error("cant has semicolon");let s=[],o=n.split("/").reduce((l,h)=>{if(h.includes(":")){let E=h.slice(1);if(Ye(E))s.push(h.slice(1));else throw new Error(`invalid var name: ${E}`);return l+"/"+h}return l+"/"+h},""),i=F(r);return{pathName:F(i+F(o)),prefix:i,props:s}}a(Te,"getPath");function Ye(t){if(t.trim()!==t)return!1;try{new Function(t,"var "+t)}catch{return!1}return!0}a(Ye,"isVarName");var ve="GET";var we="POST",xe="PUT",Ee="DELETE";var Ie="PATCH";var g=class{static addRoute(e,{method:r,prefix:n,path:s}){let{pathName:o}=Te(n,s);switch(r){case ve:c.info(o,r);break;case we:c.warn(o,r);break;case Ee:c.error(o,r);break;case Ie:c.patch(o,r);break;case xe:c.put(o,r);break;default:c.data(o,r)}g.router.addRoute(r,o,e)}getRequestHandler(e){if(e.method){let r=g.router.findRoute(e.method,e.url);return r?{handler:r.value,params:r.params}:{handler:g.routeHandlers.NotFound}}return{handler:g.routeHandlers.NotImplemented}}},d=g;a(d,"Router"),u(d,"ServerError",ue),u(d,"NotFound",ye),u(d,"MethodNotAllowed",me),u(d,"NotImplemented",de),u(d,"router",new be.RoadRunner),u(d,"routeHandlers",{GET:{},HEAD:{},POST:{},PUT:{},DELETE:{},CONNECTS:{},OPTIONS:{},TRACE:{},PATCH:{},ServerError:g.ServerError,NotFound:g.NotFound,MethodNotAllowed:g.MethodNotAllowed,NotImplemented:g.NotImplemented});var z=d;module.exports=d;function _e(t,e){return c.error(t,`Middleware Error in ${e}`),new Error(t)}a(_e,"MiddlewareError");var Ae=_e;var $=class{runMiddlewaresSync(e,r){let n=a(s=>{if(s instanceof Error)throw Ae(s.message,"Middleware")},"next");for(let s of $.middlewares)s(e,r,n)}static use(e){$.middlewares.push(e)}},w=$;a(w,"Middleware"),u(w,"middlewares",[]),u(w,"asyncMiddlewares",[]);var Se=w;module.exports=w;var b=class{server;middleware;router;host;port;constructor(){this.requestListener=this.requestListener.bind(this),this.middleware=new Se,this.router=new z,this.server=Me.default.createServer(this.requestListener),this.host=process.env.HOST||"localhost",this.port=Number(process.env.PORT)||3e3}requestListener(e,r){try{this.middleware.runMiddlewaresSync(e,r);let{handler:n,params:s}=this.router.getRequestHandler(e);n(e,r,s)}catch(n){z.routeHandlers.ServerError(e,r,n)}}run(){this.server.on("error",e=>{e.code==="EACCES"&&c.error(`No access to port: ${this.port}`,"EACCES")}),this.server.listen(this.port,()=>{c.success(`Server is running at http://${this.host}:${this.port}`)}),process.on("exit",()=>{this.server.close(()=>{c.warn(`Server is closed at http://${this.host}:${this.port}`)})}),process.on("exit",()=>{this.server.close(()=>{c.warn(`Server is closed at http://${this.host}:${this.port}`)})})}};a(b,"Server");var Ce=b;module.exports=b;Re.config();var U=Ne.cpus().length,A=class{threadPoolSize;constructor(e={}){this.threadPoolSize=er(e.threadPoolSize??U)}useControllers(e){let r=[];for(let n of e)r.push(new n)}run(){new Ce().run()}};a(A,"App");function er(t){if(t<1)throw new Error("application can't using less then 1 CPU core");if(t>U)throw new Error(`application can't using more then ${U} CPU core`);return process.env.UV_THREADPOOL_SIZE=String(t),t}a(er,"setThreadPoolSize");var rr=A;module.exports=A;0&&(module.exports={});
//# sourceMappingURL=index.js.map
